import{a as te,u as se,r,j as e,s as v}from"./index-CQCmJ27i.js";const w=(D=new Date)=>{const m=new Date(D.toLocaleString("en-US",{timeZone:"Asia/Tokyo"})),_=m.getFullYear(),c=String(m.getMonth()+1).padStart(2,"0"),S=String(m.getDate()).padStart(2,"0");return`${_}-${c}-${S}`};function le(){const{profile:D,loading:m}=te(),_=se(),[c,S]=r.useState("daily"),[o,L]=r.useState(new Date),[l,U]=r.useState(new Date),[d,P]=r.useState([]),[h,I]=r.useState([]),[z,E]=r.useState(!0),[i,g]=r.useState("all"),[O,u]=r.useState(!1),[b,f]=r.useState(null),[j,y]=r.useState(null),[k,R]=r.useState("normal"),[C,M]=r.useState(!1);if(r.useEffect(()=>{if(!m){if(D?.role!=="admin"){_("/user/dashboard");return}T(),$()}},[D,m,o,l,c]),m)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Ë™≠„ÅøËæº„Åø‰∏≠..."})]})});const T=async()=>{console.log("ÂÖ®Âà©Áî®ËÄÖ„Éá„Éº„ÇøÂèñÂæó‰∏≠...");const{data:t,error:s}=await v.from("profiles").select("id, username, furigana").eq("role","user").order("furigana");if(s){console.error("Âà©Áî®ËÄÖ„Éá„Éº„ÇøÂèñÂæó„Ç®„É©„Éº:",s);return}console.log("ÂèñÂæó„Åó„ÅüÂà©Áî®ËÄÖ„Éá„Éº„Çø:",t),t&&I(t)},$=async()=>{E(!0),console.log("Âã§ÊÄ†„Éá„Éº„ÇøÂèñÂæóÈñãÂßã:",{viewMode:c,selectedDate:o,currentMonth:l});let t=v.from("attendance").select(`
        *,
        profiles:user_id (
          username,
          furigana
        )
      `);if(c==="daily"){const a=w(o);console.log("Êó•Âà•Ë°®Á§∫„Åß„ÅÆÂØæË±°Êó•:",a),t=t.eq("date",a)}else{const a=new Date(l.getFullYear(),l.getMonth(),1),F=new Date(l.getFullYear(),l.getMonth()+1,0),A=w(a),p=w(F);console.log("ÊúàÈñìË°®Á§∫„Åß„ÅÆÊúüÈñì:",A,"„Äú",p),t=t.gte("date",A).lte("date",p)}const{data:s,error:n}=await t.order("date",{ascending:!1});n?console.error("Âã§ÊÄ†„Éá„Éº„ÇøÂèñÂæó„Ç®„É©„Éº:",n):(console.log("‚úÖ ÂèñÂæó„Åó„ÅüÂã§ÊÄ†„Éá„Éº„Çø:",s),console.log("‚úÖ Âã§ÊÄ†„Éá„Éº„Çø‰ª∂Êï∞:",s?.length)),s&&P(s),E(!1)},Y=t=>({normal:"Âá∫Âã§‚ÜíÈÄöÂ∏∏",early_leave:"Âá∫Âã§‚ÜíÊó©ÈÄÄ",late_normal:"ÈÅÖÂàª‚ÜíÈÄöÂ∏∏",late_early:"ÈÅÖÂàª‚ÜíÊó©ÈÄÄ",absent:"Ê¨†Âã§"})[t]||t,V=t=>({normal:"bg-green-100 text-green-700",early_leave:"bg-yellow-100 text-yellow-700",late_normal:"bg-orange-100 text-orange-700",late_early:"bg-red-100 text-red-700",absent:"bg-gray-100 text-gray-700"})[t]||"bg-gray-100 text-gray-700",W=()=>{const t=new Date(o);t.setDate(t.getDate()-1),L(t)},Z=()=>{const t=new Date(o);t.setDate(t.getDate()+1),L(t)},B=()=>{U(new Date(l.getFullYear(),l.getMonth()-1))},G=()=>{U(new Date(l.getFullYear(),l.getMonth()+1))},H=()=>{const t=l.getFullYear(),s=l.getMonth(),n=new Date(t,s,1),F=new Date(t,s+1,0).getDate(),A=n.getDay(),p=[];for(let N=0;N<A;N++)p.push(null);for(let N=1;N<=F;N++)p.push(N);return p},K=(t,s)=>{const n=w(new Date(l.getFullYear(),l.getMonth(),s));return d.find(a=>a.user_id===t&&a.date===n)},J=h.map(t=>{const s=d.find(n=>n.user_id===t.id);return console.log("üîç Âà©Áî®ËÄÖ„ÅÆÂã§ÊÄ†„Éû„ÉÉ„ÉÅ„É≥„Ç∞:",{username:t.username,userId:t.id,record:s,hasRecord:!!s}),{...t,attendance:s}}),q=J.filter(t=>i==="all"?!0:i==="not_recorded"?!t.attendance:t.attendance?.status===i),x={total:h.length,normal:d.filter(t=>t.status==="normal").length,early_leave:d.filter(t=>t.status==="early_leave").length,late_normal:d.filter(t=>t.status==="late_normal").length,late_early:d.filter(t=>t.status==="late_early").length,absent:d.filter(t=>t.status==="absent").length,notRecorded:c==="daily"?h.length-d.length:0};console.log("üìä Áµ±Ë®àÊÉÖÂ†±:",x),console.log("üìã dailyUsersÈÖçÂàó:",J),console.log("üë• allUsersÈÖçÂàó:",h),console.log("üìù attendanceRecordsÈÖçÂàó:",d);const Q=t=>{f(t),y(t.attendance||null),R(t.attendance?.status||"normal"),u(!0)},X=async()=>{if(b){M(!0);try{const t=w(o);if(j){const{error:s}=await v.from("attendance").update({status:k,updated_at:new Date().toISOString()}).eq("id",j.id);s?(console.error("Âã§ÊÄ†Êõ¥Êñ∞„Ç®„É©„Éº:",s),alert("Âã§ÊÄ†„ÅÆÊõ¥Êñ∞„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ")):(alert("Âã§ÊÄ†„ÇíÊõ¥Êñ∞„Åó„Åæ„Åó„Åü„ÄÇ"),u(!1),f(null),y(null),await $())}else{const{error:s}=await v.from("attendance").insert({user_id:b.id,date:t,status:k});s?(console.error("Âã§ÊÄ†‰ΩúÊàê„Ç®„É©„Éº:",s),alert("Âã§ÊÄ†„ÅÆ‰ΩúÊàê„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ")):(alert("Âã§ÊÄ†„Çí‰ΩúÊàê„Åó„Åæ„Åó„Åü„ÄÇ"),u(!1),f(null),y(null),await $())}}catch(t){console.error("‰øùÂ≠ò„Ç®„É©„Éº:",t),alert("Âã§ÊÄ†„ÅÆ‰øùÂ≠ò„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ")}finally{M(!1)}}},ee=async()=>{if(!(!j||!confirm("„Åì„ÅÆÂã§ÊÄ†Ë®òÈå≤„ÇíÂâäÈô§„Åó„Åæ„Åô„ÅãÔºü"))){M(!0);try{const{error:t}=await v.from("attendance").delete().eq("id",j.id);t?(console.error("Âã§ÊÄ†ÂâäÈô§„Ç®„É©„Éº:",t),alert("Âã§ÊÄ†„ÅÆÂâäÈô§„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ")):(alert("Âã§ÊÄ†„ÇíÂâäÈô§„Åó„Åæ„Åó„Åü„ÄÇ"),u(!1),f(null),y(null),await $())}catch(t){console.error("ÂâäÈô§„Ç®„É©„Éº:",t),alert("Âã§ÊÄ†„ÅÆÂâäÈô§„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ")}finally{M(!1)}}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>_("/admin/dashboard"),className:"w-10 h-10 flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",children:e.jsx("i",{className:"ri-arrow-left-line text-xl text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Âã§ÊÄ†ÁÆ°ÁêÜÔºàÁÆ°ÁêÜËÄÖÔºâ"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"ÂÖ®Âà©Áî®ËÄÖ„ÅÆÂã§ÊÄ†Áä∂Ê≥Å„ÇíÁ¢∫Ë™ç"})]})]})})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-lg p-1 shadow-sm border border-gray-200 inline-flex",children:[e.jsxs("button",{onClick:()=>S("daily"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${c==="daily"?"bg-blue-500 text-white":"text-gray-600 hover:bg-gray-100"}`,children:[e.jsx("i",{className:"ri-calendar-line mr-2"}),"Êó•Âà•Ë°®Á§∫"]}),e.jsxs("button",{onClick:()=>S("calendar"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${c==="calendar"?"bg-blue-500 text-white":"text-gray-600 hover:bg-gray-100"}`,children:[e.jsx("i",{className:"ri-calendar-2-line mr-2"}),"„Ç´„É¨„É≥„ÉÄ„ÉºË°®Á§∫"]})]})}),c==="daily"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:W,className:"w-10 h-10 flex items-center justify-center rounded-lg hover:bg-white/20 transition-colors cursor-pointer",children:e.jsx("i",{className:"ri-arrow-left-s-line text-xl"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm opacity-90 mb-1",children:"ÈÅ∏ÊäûÊó•"}),e.jsx("p",{className:"text-2xl font-bold",children:o.toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric",weekday:"long"})}),e.jsxs("p",{className:"text-xs opacity-75 mt-1",children:["ÂØæË±°Êó•‰ªò: ",w(o)]})]}),e.jsx("button",{onClick:Z,className:"w-10 h-10 flex items-center justify-center rounded-lg hover:bg-white/20 transition-colors cursor-pointer",children:e.jsx("i",{className:"ri-arrow-right-s-line text-xl"})})]}),e.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx("i",{className:"ri-team-line text-3xl"})})]}),e.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-7 gap-4",children:[e.jsxs("div",{onClick:()=>g("all"),className:`rounded-lg p-3 cursor-pointer transition-all ${i==="all"?"bg-white ring-2 ring-white ring-offset-2 ring-offset-blue-500":"bg-white hover:bg-white/90"}`,children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Á∑èÂà©Áî®ËÄÖÊï∞"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[x.total,"‰∫∫"]})]}),e.jsxs("div",{onClick:()=>g("normal"),className:`rounded-lg p-3 cursor-pointer transition-all ${i==="normal"?"bg-green-500 ring-2 ring-white ring-offset-2 ring-offset-blue-500":"bg-green-500 hover:bg-green-600"}`,children:[e.jsx("p",{className:"text-sm text-white mb-1",children:"Âá∫Âã§‚ÜíÈÄöÂ∏∏"}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:[x.normal,"‰∫∫"]})]}),e.jsxs("div",{onClick:()=>g("early_leave"),className:`rounded-lg p-3 cursor-pointer transition-all ${i==="early_leave"?"bg-yellow-500 ring-2 ring-white ring-offset-2 ring-offset-blue-500":"bg-yellow-500 hover:bg-yellow-600"}`,children:[e.jsx("p",{className:"text-sm text-white mb-1",children:"Âá∫Âã§‚ÜíÊó©ÈÄÄ"}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:[x.early_leave,"‰∫∫"]})]}),e.jsxs("div",{onClick:()=>g("late_normal"),className:`rounded-lg p-3 cursor-pointer transition-all ${i==="late_normal"?"bg-orange-500 ring-2 ring-white ring-offset-2 ring-offset-blue-500":"bg-orange-500 hover:bg-orange-600"}`,children:[e.jsx("p",{className:"text-sm text-white mb-1",children:"ÈÅÖÂàª‚ÜíÈÄöÂ∏∏"}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:[x.late_normal,"‰∫∫"]})]}),e.jsxs("div",{onClick:()=>g("late_early"),className:`rounded-lg p-3 cursor-pointer transition-all ${i==="late_early"?"bg-red-500 ring-2 ring-white ring-offset-2 ring-offset-blue-500":"bg-red-500 hover:bg-red-600"}`,children:[e.jsx("p",{className:"text-sm text-white mb-1",children:"ÈÅÖÂàª‚ÜíÊó©ÈÄÄ"}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:[x.late_early,"‰∫∫"]})]}),e.jsxs("div",{onClick:()=>g("absent"),className:`rounded-lg p-3 cursor-pointer transition-all ${i==="absent"?"bg-gray-500 ring-2 ring-white ring-offset-2 ring-offset-blue-500":"bg-gray-500 hover:bg-gray-600"}`,children:[e.jsx("p",{className:"text-sm text-white mb-1",children:"Ê¨†Âã§"}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:[x.absent,"‰∫∫"]})]}),e.jsxs("div",{onClick:()=>g("not_recorded"),className:`rounded-lg p-3 cursor-pointer transition-all ${i==="not_recorded"?"bg-blue-500 ring-2 ring-white ring-offset-2 ring-offset-blue-500":"bg-blue-500 hover:bg-blue-600"}`,children:[e.jsx("p",{className:"text-sm text-white mb-1",children:"Êú™Ë®òÂÖ•"}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:[x.notRecorded,"‰∫∫"]})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"p-4 border-b border-gray-100",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Âà©Áî®ËÄÖ‰∏ÄË¶ß"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"ÂêÑÂà©Áî®ËÄÖ„ÅÆÂã§ÊÄ†Áä∂Ê≥Å„Å®Ë®òÈå≤ÊôÇÂàª"})]}),z?e.jsx("div",{className:"p-8 text-center text-gray-500",children:"Ë™≠„ÅøËæº„Åø‰∏≠..."}):h.length===0?e.jsx("div",{className:"p-8 text-center text-gray-500",children:"Âà©Áî®ËÄÖ„Éá„Éº„Çø„Åå„ÅÇ„Çä„Åæ„Åõ„Çì"}):q.length===0?e.jsx("div",{className:"p-8 text-center text-gray-500",children:"Ë©≤ÂΩì„Åô„ÇãÂà©Áî®ËÄÖ„Åå„ÅÑ„Åæ„Åõ„Çì"}):e.jsx("div",{className:"divide-y divide-gray-100",children:q.map(t=>e.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center text-white font-bold",children:t.username.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:t.username}),e.jsx("p",{className:"text-sm text-gray-500",children:t.furigana})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-right",children:t.attendance?e.jsxs("div",{children:[e.jsx("span",{className:`inline-block px-4 py-2 rounded-full text-sm font-medium ${V(t.attendance.status)}`,children:Y(t.attendance.status)}),e.jsxs("div",{className:"mt-2 space-y-1",children:[e.jsxs("p",{className:"text-xs text-gray-500",children:[e.jsx("i",{className:"ri-calendar-line mr-1"}),"Ë®òÈå≤Êó•: ",new Date(t.attendance.date).toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric",weekday:"short"})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[e.jsx("i",{className:"ri-time-line mr-1"}),"Ë®òÈå≤ÊôÇÂàª: ",new Date(t.attendance.created_at).toLocaleString("ja-JP",{hour:"2-digit",minute:"2-digit",second:"2-digit"})]}),t.attendance.updated_at&&t.attendance.updated_at!==t.attendance.created_at&&e.jsxs("p",{className:"text-xs text-gray-500",children:[e.jsx("i",{className:"ri-refresh-line mr-1"}),"Êõ¥Êñ∞ÊôÇÂàª: ",new Date(t.attendance.updated_at).toLocaleString("ja-JP",{hour:"2-digit",minute:"2-digit",second:"2-digit"})]})]})]}):e.jsxs("div",{children:[e.jsx("span",{className:"inline-block px-4 py-2 rounded-full text-sm font-medium bg-gray-100 text-gray-500",children:"Êú™Ë®òÂÖ•"}),e.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:[e.jsx("i",{className:"ri-information-line mr-1"}),"„Åæ„Å†Âã§ÊÄ†„ÅåË®òÈå≤„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì"]})]})}),e.jsx("button",{onClick:()=>Q(t),className:"w-10 h-10 flex items-center justify-center text-blue-600 hover:bg-blue-50 rounded-lg transition-colors cursor-pointer",title:"Âã§ÊÄ†„ÇíÁ∑®ÈõÜ",children:e.jsx("i",{className:"ri-edit-line text-xl"})})]})]})},t.id))})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"ÊúàÈñì„Ç´„É¨„É≥„ÉÄ„Éº"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:B,className:"w-10 h-10 flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",children:e.jsx("i",{className:"ri-arrow-left-s-line text-xl text-gray-600"})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900 min-w-[120px] text-center",children:[l.getFullYear(),"Âπ¥",l.getMonth()+1,"Êúà"]}),e.jsx("button",{onClick:G,className:"w-10 h-10 flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",children:e.jsx("i",{className:"ri-arrow-right-s-line text-xl text-gray-600"})})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"p-4 text-left text-sm font-bold text-gray-900 sticky left-0 bg-white z-10",children:"Âà©Áî®ËÄÖÂêç"}),["Êó•","Êúà","ÁÅ´","Ê∞¥","Êú®","Èáë","Âúü"].map(t=>e.jsx("th",{className:"p-2 text-center text-xs font-medium text-gray-600",children:t},t))]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:h.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"p-4 sticky left-0 bg-white z-10",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:t.username}),e.jsx("p",{className:"text-xs text-gray-500",children:t.furigana})]})}),H().map((s,n)=>{if(s===null)return e.jsx("td",{className:"p-2 bg-gray-50"},n);const a=K(t.id,s);return e.jsx("td",{className:"p-2 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsx("span",{className:"text-xs text-gray-600",children:s}),a?e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${a.status==="normal"?"bg-green-500 text-white":a.status==="early_leave"?"bg-yellow-500 text-white":a.status==="late_normal"?"bg-orange-500 text-white":a.status==="late_early"?"bg-red-500 text-white":"bg-gray-500 text-white"}`,title:Y(a.status),children:a.status==="normal"?"‚óã":a.status==="early_leave"?"Êó©":a.status==="late_normal"?"ÈÅÖ":a.status==="late_early"?"ÈÅÖÊó©":"√ó"}):e.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100"})]})},n)})]},t.id))})]})}),e.jsxs("div",{className:"mt-6 bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsx("h4",{className:"text-sm font-bold text-gray-900 mb-4",children:"Âá°‰æã"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white text-xs font-bold",children:"‚óã"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Âá∫Âã§‚ÜíÈÄöÂ∏∏"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center text-white text-xs font-bold",children:"Êó©"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Âá∫Âã§‚ÜíÊó©ÈÄÄ"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center text-white text-xs font-bold",children:"ÈÅÖ"}),e.jsx("span",{className:"text-sm text-gray-600",children:"ÈÅÖÂàª‚ÜíÈÄöÂ∏∏"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center text-white text-xs font-bold",children:"ÈÅÖÊó©"}),e.jsx("span",{className:"text-sm text-gray-600",children:"ÈÅÖÂàª‚ÜíÊó©ÈÄÄ"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-500 rounded-full flex items-center justify-center text-white text-xs font-bold",children:"√ó"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Ê¨†Âã§"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Êú™Ë®òÂÖ•"})]})]})]})]})]}),O&&b&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full",children:[e.jsx("div",{className:"p-6 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Âã§ÊÄ†Á∑®ÈõÜ"}),e.jsx("button",{onClick:()=>{u(!1),f(null),y(null)},className:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",children:e.jsx("i",{className:"ri-close-line text-xl text-gray-600"})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center text-white font-bold",children:b.username.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:b.username}),e.jsx("p",{className:"text-sm text-gray-500",children:b.furigana})]})]}),e.jsx("div",{className:"bg-blue-50 rounded-lg p-3",children:e.jsxs("p",{className:"text-sm text-blue-900",children:[e.jsx("i",{className:"ri-calendar-line mr-2"}),o.toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric",weekday:"long"})]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Âã§ÊÄ†Áä∂Ê≥Å"}),e.jsx("div",{className:"space-y-2",children:[{value:"normal",label:"Âá∫Âã§‚ÜíÈÄöÂ∏∏",color:"green"},{value:"early_leave",label:"Âá∫Âã§‚ÜíÊó©ÈÄÄ",color:"yellow"},{value:"late_normal",label:"ÈÅÖÂàª‚ÜíÈÄöÂ∏∏",color:"orange"},{value:"late_early",label:"ÈÅÖÂàª‚ÜíÊó©ÈÄÄ",color:"red"},{value:"absent",label:"Ê¨†Âã§",color:"gray"}].map(t=>e.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg border-2 cursor-pointer transition-all ${k===t.value?`border-${t.color}-500 bg-${t.color}-50`:"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("input",{type:"radio",value:t.value,checked:k===t.value,onChange:s=>R(s.target.value),className:"w-4 h-4 cursor-pointer"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:t.label})]},t.value))})]}),e.jsxs("div",{className:"flex gap-3",children:[j&&e.jsxs("button",{type:"button",onClick:ee,disabled:C,className:"px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 transition-colors cursor-pointer whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("i",{className:"ri-delete-bin-line mr-2"}),"ÂâäÈô§"]}),e.jsx("button",{type:"button",onClick:()=>{u(!1),f(null),y(null)},disabled:C,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed",children:"„Ç≠„É£„É≥„Çª„É´"}),e.jsx("button",{type:"button",onClick:X,disabled:C,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors cursor-pointer whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed",children:C?"‰øùÂ≠ò‰∏≠...":j?"Êõ¥Êñ∞":"‰ΩúÊàê"})]})]})]})})]})}export{le as default};
//# sourceMappingURL=page-uyaOLFqT.js.map
