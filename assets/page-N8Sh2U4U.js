import{u as o,r as a,s as m,j as e}from"./index-CQCmJ27i.js";function g(){const i=o(),[l,n]=a.useState([]),[c,x]=a.useState(!0),[t,r]=a.useState(null);a.useEffect(()=>{d()},[]);const d=async()=>{const{data:s}=await m.from("announcements").select("*").order("created_at",{ascending:!1});s&&n(s),x(!1)};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>i("/user/dashboard"),className:"w-10 h-10 flex items-center justify-center text-gray-600 hover:bg-gray-100 rounded-lg transition-colors cursor-pointer",children:e.jsx("i",{className:"ri-arrow-left-line text-xl"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"連絡掲示板"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"お知らせを確認"})]})]})})}),e.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block w-8 h-8 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"読み込み中..."})]}):l.length===0?e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("i",{className:"ri-notification-line text-3xl text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"お知らせがありません"}),e.jsx("p",{className:"text-gray-600",children:"新しいお知らせが投稿されるとここに表示されます"})]}):e.jsx("div",{className:"grid gap-4",children:l.map(s=>e.jsx("div",{onClick:()=>r(s),className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-all cursor-pointer",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("i",{className:"ri-notification-line text-purple-600 text-xl"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:s.title}),e.jsx("p",{className:"text-gray-700 line-clamp-2 mb-3",children:s.content}),e.jsx("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("i",{className:"ri-time-line"}),new Date(s.created_at).toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric"})]})})]}),e.jsx("i",{className:"ri-arrow-right-s-line text-gray-400 text-2xl"})]})},s.id))})}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("i",{className:"ri-notification-line text-purple-600 text-xl"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:t.title}),e.jsx("p",{className:"text-sm text-gray-500",children:new Date(t.created_at).toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),e.jsx("button",{onClick:()=>r(null),className:"w-10 h-10 flex items-center justify-center text-gray-400 hover:bg-gray-100 rounded-lg transition-colors cursor-pointer flex-shrink-0",children:e.jsx("i",{className:"ri-close-line text-2xl"})})]})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"prose max-w-none",children:e.jsx("p",{className:"text-gray-700 whitespace-pre-wrap leading-relaxed",children:t.content})})}),e.jsx("div",{className:"p-6 border-t border-gray-100",children:e.jsx("button",{onClick:()=>r(null),className:"w-full px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium whitespace-nowrap cursor-pointer",children:"閉じる"})})]})})]})}export{g as default};
//# sourceMappingURL=page-N8Sh2U4U.js.map
