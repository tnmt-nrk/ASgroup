import{a as ye,u as we,r as d,j as e,s as j}from"./index-CQCmJ27i.js";const C=(N=new Date)=>{const f=new Date(N.toLocaleString("en-US",{timeZone:"Asia/Tokyo"})),$=f.getFullYear(),u=String(f.getMonth()+1).padStart(2,"0"),y=String(f.getDate()).padStart(2,"0");return`${$}-${u}-${y}`};function ke(){const{profile:N,loading:f}=ye(),$=we(),[u,y]=d.useState("list"),[M,I]=d.useState(new Date),[g,K]=d.useState([]),[w,Q]=d.useState([]),[S,X]=d.useState([]),[ee,z]=d.useState(!0),[se,T]=d.useState(!1),[te,L]=d.useState(!1),[n,p]=d.useState(null),[re,O]=d.useState(!1),[c,U]=d.useState(null),[ae,q]=d.useState(!1),[x,v]=d.useState(null),[m,k]=d.useState({title:"",category:"light_work",description:"",start_date:C(new Date),end_date:C(new Date)});if(d.useEffect(()=>{if(!f){if(N?.role!=="admin"){$("/user/dashboard");return}E(),A(),le()}},[N,f]),f)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"読み込み中..."})]})});const E=async()=>{z(!0);const{data:s}=await j.from("work_tasks").select("*").order("start_date",{ascending:!1});s&&K(s),z(!1)},A=async()=>{const{data:s}=await j.from("work_progress").select(`
        *,
        profiles:user_id (
          username,
          furigana
        )
      `);s&&Q(s)},le=async()=>{console.log("利用者データ取得開始...");const{data:s,error:t}=await j.from("profiles").select("id, username, furigana, role").eq("role","user").order("furigana");console.log("取得した利用者データ:",s),console.log("エラー:",t),s&&(X(s),console.log("利用者数:",s.length))},ne=async s=>{if(s.preventDefault(),!N?.id)return;const{error:t}=await j.from("work_tasks").insert([{...m,created_by:N.id}]);t||(T(!1),k({title:"",category:"light_work",description:"",start_date:C(new Date),end_date:C(new Date)}),E())},ie=async s=>{if(s.preventDefault(),!n)return;const{error:t}=await j.from("work_tasks").update({title:n.title,category:n.category,description:n.description,start_date:n.start_date,end_date:n.end_date}).eq("id",n.id);t||(L(!1),p(null),E())},Y=async s=>{if(!confirm("この作業を削除してもよろしいですか？関連する進捗記録も削除されます。"))return;await j.from("work_progress").delete().eq("task_id",s);const{error:t}=await j.from("work_tasks").delete().eq("id",s);t||(E(),A())},R=s=>{p(s),L(!0)},D=s=>({light_work:"軽作業",craft:"クラフト",pc:"PC",it:"IT",external:"外部"})[s]||s,o=s=>({light_work:"bg-blue-500",craft:"bg-green-500",pc:"bg-purple-500",it:"bg-orange-500",external:"bg-pink-500"})[s]||"bg-gray-500",_=(s,t)=>{let r=w.filter(i=>i.task_id===s);if(t&&(r=r.filter(i=>i.user_id===t)),r.length===0)return 0;const l=r.reduce((i,a)=>i+a.progress_rate,0);return Math.round(l/r.length)},ce=()=>{const s=new Date(M);s.setDate(s.getDate()-1),I(s)},de=()=>{const s=new Date(M);s.setDate(s.getDate()+1),I(s)},oe=()=>{const s=C(M);return g.filter(t=>t.start_date<=s&&t.end_date>=s)},W=()=>{const s=new Date,t=new Date(s.getFullYear(),s.getMonth(),1),r=new Date(s.getFullYear(),s.getMonth()+1,0),l=r.getDate();return{startOfMonth:t,endOfMonth:r,daysInMonth:l}},xe=(s,t)=>{const{startOfMonth:r}=W(),l=new Date(r.getFullYear(),r.getMonth(),t),i=C(l);return s.start_date<=i&&s.end_date>=i},me=()=>{const s=[];for(let t=6;t>=0;t--){const r=new Date;r.setDate(r.getDate()-t);const l=r.toISOString().split("T")[0],i=w.filter(h=>h.date===l),a=i.length>0?Math.round(i.reduce((h,b)=>h+b.progress_rate,0)/i.length):0;s.push({date:l,label:`${r.getMonth()+1}/${r.getDate()}`,progress:a})}return s},he=()=>{const s={light_work:0,craft:0,pc:0,it:0,external:0};return g.forEach(t=>{s[t.category]++}),Object.entries(s).filter(([t,r])=>r>0).map(([t,r])=>({category:t,label:D(t),count:r,color:o(t)}))},ge=()=>g.slice(0,10).map(s=>({task:s,progress:_(s.id)})),ue=()=>S.map(s=>{const t=w.filter(l=>l.user_id===s.id),r=t.length>0?Math.round(t.reduce((l,i)=>l+i.progress_rate,0)/t.length):0;return{user:s,avgProgress:r,recordCount:t.length}}).sort((s,t)=>t.avgProgress-s.avgProgress),B=oe(),{daysInMonth:G}=W(),pe=me(),P=he(),V=ge(),Z=ue(),F=P.reduce((s,t)=>s+t.count,0),je=(s,t)=>{U({task:s,userId:t}),O(!0)},H=()=>c?w.filter(s=>s.task_id===c.task.id&&s.user_id===c.userId).sort((s,t)=>new Date(t.date).getTime()-new Date(s.date).getTime()):[],be=async s=>{if(s.preventDefault(),!x)return;const{error:t}=await j.from("work_progress").update({progress_rate:x.progress_rate,notes:x.notes}).eq("id",x.id);t||(q(!1),v(null),A())},fe=async s=>{if(!confirm("この進捗報告を削除してもよろしいですか？"))return;const{error:t}=await j.from("work_progress").delete().eq("id",s);t||A()},Ne=s=>{v(s),q(!0)};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>$("/admin/dashboard"),className:"w-10 h-10 flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",children:e.jsx("i",{className:"ri-arrow-left-line text-xl text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"作業管理（管理者）"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"作業内容と進捗を管理"})]})]}),e.jsxs("button",{onClick:()=>T(!0),className:"px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors text-sm font-medium whitespace-nowrap cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"新規作業追加"]})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-lg p-1 shadow-sm border border-gray-200 inline-flex flex-wrap",children:[e.jsxs("button",{onClick:()=>y("list"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${u==="list"?"bg-purple-500 text-white":"text-gray-600 hover:bg-gray-100"}`,children:[e.jsx("i",{className:"ri-list-check mr-2"}),"日別一覧"]}),e.jsxs("button",{onClick:()=>y("gantt"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${u==="gantt"?"bg-purple-500 text-white":"text-gray-600 hover:bg-gray-100"}`,children:[e.jsx("i",{className:"ri-bar-chart-horizontal-line mr-2"}),"ガントチャート"]}),e.jsxs("button",{onClick:()=>y("progress"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${u==="progress"?"bg-purple-500 text-white":"text-gray-600 hover:bg-gray-100"}`,children:[e.jsx("i",{className:"ri-user-line mr-2"}),"利用者別進捗"]}),e.jsxs("button",{onClick:()=>y("chart"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${u==="chart"?"bg-purple-500 text-white":"text-gray-600 hover:bg-gray-100"}`,children:[e.jsx("i",{className:"ri-pie-chart-line mr-2"}),"グラフ分析"]})]})}),u==="list"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-600 rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:ce,className:"w-10 h-10 flex items-center justify-center rounded-lg hover:bg-white/20 transition-colors cursor-pointer",children:e.jsx("i",{className:"ri-arrow-left-s-line text-xl"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm opacity-90 mb-1",children:"選択日"}),e.jsx("p",{className:"text-2xl font-bold",children:M.toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric",weekday:"long"})})]}),e.jsx("button",{onClick:de,className:"w-10 h-10 flex items-center justify-center rounded-lg hover:bg-white/20 transition-colors cursor-pointer",children:e.jsx("i",{className:"ri-arrow-right-s-line text-xl"})})]}),e.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx("i",{className:"ri-task-line text-3xl"})})]})})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"本日の作業一覧"})}),ee?e.jsx("div",{className:"p-8 text-center text-gray-500",children:"読み込み中..."}):B.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx("i",{className:"ri-inbox-line text-4xl mb-2"}),e.jsx("p",{children:"本日の作業はありません"})]}):e.jsx("div",{className:"divide-y divide-gray-100",children:B.map(s=>{const t=_(s.id);return e.jsxs("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[e.jsx("div",{className:`${o(s.category)} w-12 h-12 rounded-lg flex items-center justify-center text-white flex-shrink-0`,children:e.jsx("i",{className:"ri-briefcase-line text-xl"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsx("span",{className:`${o(s.category)} text-white text-xs font-medium px-3 py-1 rounded-full`,children:D(s.category)})}),e.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:s.title}),s.description&&e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:s.description}),e.jsx("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("i",{className:"ri-calendar-line"}),e.jsxs("span",{children:[new Date(s.start_date).toLocaleDateString("ja-JP")," 〜 ",new Date(s.end_date).toLocaleDateString("ja-JP")]})]})})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>R(s),className:"w-10 h-10 flex items-center justify-center rounded-lg bg-blue-500 text-white hover:bg-blue-600 transition-colors cursor-pointer",title:"編集",children:e.jsx("i",{className:"ri-edit-line text-lg"})}),e.jsx("button",{onClick:()=>Y(s.id),className:"w-10 h-10 flex items-center justify-center rounded-lg bg-red-500 text-white hover:bg-red-600 transition-colors cursor-pointer",title:"削除",children:e.jsx("i",{className:"ri-delete-bin-line text-lg"})})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"全体進捗状況"}),e.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[t,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:`${o(s.category)} h-3 rounded-full`,style:{width:`${t}%`}})})]})]},s.id)})})]})]}):u==="gantt"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"月間ガントチャート"}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[new Date().getFullYear(),"年",new Date().getMonth()+1,"月"]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"p-4 text-left text-sm font-bold text-gray-900 sticky left-0 bg-white z-10 min-w-[200px]",children:"作業名"}),e.jsx("th",{className:"p-4 text-left text-sm font-bold text-gray-900 min-w-[100px]",children:"カテゴリ"}),e.jsx("th",{className:"p-4 text-left text-sm font-bold text-gray-900 min-w-[100px]",children:"進捗"}),e.jsx("th",{className:"p-4 text-center text-sm font-bold text-gray-900 min-w-[100px]",children:"操作"}),Array.from({length:G},(s,t)=>t+1).map(s=>e.jsx("th",{className:"p-2 text-center text-xs font-medium text-gray-600 min-w-[40px]",children:s},s))]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:g.map(s=>{const t=_(s.id);return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"p-4 sticky left-0 bg-white z-10",children:e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:s.title})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:`${o(s.category)} text-white text-xs font-medium px-3 py-1 rounded-full whitespace-nowrap`,children:D(s.category)})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`${o(s.category)} h-2 rounded-full`,style:{width:`${t}%`}})}),e.jsxs("span",{className:"text-xs font-medium text-gray-700 whitespace-nowrap",children:[t,"%"]})]})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>R(s),className:"w-8 h-8 flex items-center justify-center rounded-lg bg-blue-500 text-white hover:bg-blue-600 transition-colors cursor-pointer",title:"編集",children:e.jsx("i",{className:"ri-edit-line text-sm"})}),e.jsx("button",{onClick:()=>Y(s.id),className:"w-8 h-8 flex items-center justify-center rounded-lg bg-red-500 text-white hover:bg-red-600 transition-colors cursor-pointer",title:"削除",children:e.jsx("i",{className:"ri-delete-bin-line text-sm"})})]})}),Array.from({length:G},(r,l)=>l+1).map(r=>{const l=xe(s,r);return e.jsx("td",{className:"p-2",children:l&&e.jsx("div",{className:`${o(s.category)} h-8 rounded`})},r)})]},s.id)})})]})}),e.jsxs("div",{className:"mt-6 bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsx("h4",{className:"text-sm font-bold text-gray-900 mb-4",children:"カテゴリ凡例"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg"}),e.jsx("span",{className:"text-sm text-gray-600",children:"軽作業"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-lg"}),e.jsx("span",{className:"text-sm text-gray-600",children:"クラフト"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg"}),e.jsx("span",{className:"text-sm text-gray-600",children:"PC"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg"}),e.jsx("span",{className:"text-sm text-gray-600",children:"IT"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-pink-500 rounded-lg"}),e.jsx("span",{className:"text-sm text-gray-600",children:"外部"})]})]})]})]}):u==="progress"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"利用者別進捗・達成度"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"各利用者の作業進捗状況を確認"})]}),S.length===0?e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-8 text-center",children:[e.jsx("i",{className:"ri-user-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"利用者データがありません"})]}):e.jsx("div",{className:"space-y-6",children:S.map(s=>{const t=w.filter(a=>a.user_id===s.id),r=t.length>0?Math.round(t.reduce((a,h)=>a+h.progress_rate,0)/t.length):0,l=t.filter(a=>a.progress_rate===100).length,i=t.filter(a=>a.progress_rate>0&&a.progress_rate<100).length;return e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-600 p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center text-white font-bold text-2xl",children:s.username.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xl font-bold",children:s.username}),e.jsx("p",{className:"text-sm opacity-90",children:s.furigana})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-3xl font-bold",children:[r,"%"]}),e.jsx("p",{className:"text-sm opacity-90",children:"平均進捗率"})]})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 p-6 bg-gray-50 border-b border-gray-100",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mx-auto mb-2",children:e.jsx("i",{className:"ri-task-line text-2xl text-blue-600"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.length}),e.jsx("p",{className:"text-xs text-gray-600",children:"進捗記録数"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-2",children:e.jsx("i",{className:"ri-check-line text-2xl text-green-600"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l}),e.jsx("p",{className:"text-xs text-gray-600",children:"完了作業"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mx-auto mb-2",children:e.jsx("i",{className:"ri-time-line text-2xl text-orange-600"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i}),e.jsx("p",{className:"text-xs text-gray-600",children:"進行中作業"})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h4",{className:"text-sm font-bold text-gray-900 mb-4",children:"作業別進捗状況"}),g.length===0?e.jsx("p",{className:"text-sm text-gray-500 text-center py-8",children:"作業データがありません"}):e.jsx("div",{className:"space-y-4",children:g.map(a=>{const h=_(a.id,s.id),b=t.some(J=>J.task_id===a.id);return e.jsxs("div",{className:`p-4 rounded-lg border ${b?"bg-purple-50 border-purple-200":"bg-gray-50 border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx("span",{className:`${o(a.category)} text-white text-xs font-medium px-3 py-1 rounded-full whitespace-nowrap`,children:D(a.category)}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:a.title})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[b&&e.jsxs("button",{onClick:()=>je(a,s.id),className:"px-3 py-1 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors text-xs font-medium whitespace-nowrap cursor-pointer",children:[e.jsx("i",{className:"ri-file-list-line mr-1"}),"報告確認"]}),h===100&&e.jsx("span",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx("i",{className:"ri-check-line text-white text-sm"})}),e.jsxs("span",{className:`text-sm font-bold ${b?"text-purple-600":"text-gray-500"}`,children:[h,"%"]})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`${b?o(a.category):"bg-gray-400"} h-2 rounded-full transition-all`,style:{width:`${h}%`}})}),a.description&&e.jsx("p",{className:"text-xs text-gray-600 mt-2",children:a.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-gray-500",children:[e.jsx("i",{className:"ri-calendar-line"}),e.jsxs("span",{children:[new Date(a.start_date).toLocaleDateString("ja-JP",{month:"short",day:"numeric"})," 〜",new Date(a.end_date).toLocaleDateString("ja-JP",{month:"short",day:"numeric"})]})]})]},a.id)})})]})]},s.id)})})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"進捗グラフ分析"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"全体の作業進捗を可視化"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h4",{className:"text-base font-bold text-gray-900",children:"過去7日間の全体進捗推移"}),e.jsx("i",{className:"ri-line-chart-line text-2xl text-purple-500"})]}),e.jsx("div",{className:"space-y-4",children:pe.map((s,t)=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:s.label}),e.jsxs("span",{className:"text-sm font-bold text-purple-500",children:[s.progress,"%"]})]}),e.jsxs("div",{className:"relative h-8 bg-gray-100 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-purple-400 to-purple-600 rounded-lg transition-all duration-500",style:{width:`${s.progress}%`}}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("span",{className:"text-xs font-medium text-gray-600",children:[s.progress,"%"]})})]})]},t))})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h4",{className:"text-base font-bold text-gray-900",children:"カテゴリ別作業分布"}),e.jsx("i",{className:"ri-pie-chart-line text-2xl text-blue-500"})]}),P.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("i",{className:"ri-inbox-line text-4xl mb-2"}),e.jsx("p",{className:"text-sm",children:"作業データがありません"})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsxs("div",{className:"relative w-48 h-48",children:[e.jsx("svg",{viewBox:"0 0 100 100",className:"transform -rotate-90",children:P.map((s,t)=>{const r=s.count/F*100,l=P.slice(0,t).reduce((b,J)=>b+J.count/F*100,0),i=`${r} ${100-r}`,a=-l,h={"bg-blue-500":"#3b82f6","bg-green-500":"#22c55e","bg-purple-500":"#a855f7","bg-orange-500":"#f97316","bg-pink-500":"#ec4899"};return e.jsx("circle",{cx:"50",cy:"50",r:"15.915",fill:"transparent",stroke:h[s.color]||"#6b7280",strokeWidth:"31.83",strokeDasharray:i,strokeDashoffset:a},t)})}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:F}),e.jsx("p",{className:"text-xs text-gray-600",children:"作業"})]})})]})}),e.jsx("div",{className:"space-y-3",children:P.map((s,t)=>{const r=Math.round(s.count/F*100);return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-4 h-4 ${s.color} rounded`}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:s.label})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[s.count,"件"]}),e.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[r,"%"]})]})]},t)})})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h4",{className:"text-base font-bold text-gray-900",children:"作業別進捗状況（上位10件）"}),e.jsx("i",{className:"ri-bar-chart-box-line text-2xl text-green-500"})]}),V.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("i",{className:"ri-inbox-line text-4xl mb-2"}),e.jsx("p",{className:"text-sm",children:"作業データがありません"})]}):e.jsx("div",{className:"space-y-6",children:V.map((s,t)=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("span",{className:`${o(s.task.category)} text-white text-xs font-medium px-3 py-1 rounded-full whitespace-nowrap`,children:D(s.task.category)}),e.jsx("span",{className:"text-sm font-medium text-gray-900 truncate",children:s.task.title})]}),e.jsxs("span",{className:"text-sm font-bold text-gray-900 ml-4",children:[s.progress,"%"]})]}),e.jsx("div",{className:"relative h-6 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:`${o(s.task.category)} h-6 rounded-full transition-all duration-500`,style:{width:`${s.progress}%`}})})]},t))})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h4",{className:"text-base font-bold text-gray-900",children:"利用者別進捗ランキング"}),e.jsx("i",{className:"ri-trophy-line text-2xl text-yellow-500"})]}),Z.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("i",{className:"ri-inbox-line text-4xl mb-2"}),e.jsx("p",{className:"text-sm",children:"利用者データがありません"})]}):e.jsx("div",{className:"space-y-4",children:Z.map((s,t)=>e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx("div",{className:`w-10 h-10 flex items-center justify-center rounded-full font-bold text-white ${t===0?"bg-yellow-500":t===1?"bg-gray-400":t===2?"bg-orange-600":"bg-gray-300"}`,children:t+1}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-bold text-gray-900",children:s.user.username}),e.jsx("p",{className:"text-sm text-gray-500",children:s.user.furigana})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-2xl font-bold text-purple-500",children:[s.avgProgress,"%"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[s.recordCount,"件の記録"]})]})]},t))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-task-line text-2xl"})}),e.jsx("i",{className:"ri-arrow-up-line text-xl"})]}),e.jsx("p",{className:"text-sm opacity-90 mb-1",children:"総作業数"}),e.jsx("p",{className:"text-3xl font-bold",children:g.length})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-user-line text-2xl"})}),e.jsx("i",{className:"ri-arrow-up-line text-xl"})]}),e.jsx("p",{className:"text-sm opacity-90 mb-1",children:"利用者数"}),e.jsx("p",{className:"text-3xl font-bold",children:S.length})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-check-line text-2xl"})}),e.jsx("i",{className:"ri-arrow-up-line text-xl"})]}),e.jsx("p",{className:"text-sm opacity-90 mb-1",children:"総進捗記録数"}),e.jsx("p",{className:"text-3xl font-bold",children:w.length})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-percent-line text-2xl"})}),e.jsx("i",{className:"ri-arrow-up-line text-xl"})]}),e.jsx("p",{className:"text-sm opacity-90 mb-1",children:"全体平均進捗率"}),e.jsxs("p",{className:"text-3xl font-bold",children:[g.length>0?Math.round(g.reduce((s,t)=>s+_(t.id),0)/g.length):0,"%"]})]})]})]})]}),se&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"新規作業追加"}),e.jsx("button",{onClick:()=>T(!1),className:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",children:e.jsx("i",{className:"ri-close-line text-xl text-gray-600"})})]})}),e.jsxs("form",{onSubmit:ne,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["作業名 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",required:!0,value:m.title,onChange:s=>k({...m,title:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"作業名を入力"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["カテゴリ ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{required:!0,value:m.category,onChange:s=>k({...m,category:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent pr-8",children:[e.jsx("option",{value:"light_work",children:"軽作業"}),e.jsx("option",{value:"craft",children:"クラフト"}),e.jsx("option",{value:"pc",children:"PC"}),e.jsx("option",{value:"it",children:"IT"}),e.jsx("option",{value:"external",children:"外部"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"作業説明"}),e.jsx("textarea",{value:m.description,onChange:s=>k({...m,description:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:3,placeholder:"作業の詳細を入力"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["開始日 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",required:!0,value:m.start_date,onChange:s=>k({...m,start_date:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["終了日 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",required:!0,value:m.end_date,onChange:s=>k({...m,end_date:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>T(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium whitespace-nowrap cursor-pointer",children:"キャンセル"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors font-medium whitespace-nowrap cursor-pointer",children:"追加"})]})]})]})}),te&&n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"作業内容編集"}),e.jsx("button",{onClick:()=>{L(!1),p(null)},className:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",children:e.jsx("i",{className:"ri-close-line text-xl text-gray-600"})})]})}),e.jsxs("form",{onSubmit:ie,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["作業名 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",required:!0,value:n.title,onChange:s=>p({...n,title:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"作業名を入力"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["カテゴリ ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{required:!0,value:n.category,onChange:s=>p({...n,category:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent pr-8",children:[e.jsx("option",{value:"light_work",children:"軽作業"}),e.jsx("option",{value:"craft",children:"クラフト"}),e.jsx("option",{value:"pc",children:"PC"}),e.jsx("option",{value:"it",children:"IT"}),e.jsx("option",{value:"external",children:"外部"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"作業説明"}),e.jsx("textarea",{value:n.description||"",onChange:s=>p({...n,description:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:3,placeholder:"作業の詳細を入力"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["開始日 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",required:!0,value:n.start_date,onChange:s=>p({...n,start_date:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["終了日 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",required:!0,value:n.end_date,onChange:s=>p({...n,end_date:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{L(!1),p(null)},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium whitespace-nowrap cursor-pointer",children:"キャンセル"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors font-medium whitespace-nowrap cursor-pointer",children:"保存"})]})]})]})}),re&&c&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-100 sticky top-0 bg-white z-10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"作業報告詳細"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[S.find(s=>s.id===c.userId)?.username," さんの報告"]})]}),e.jsx("button",{onClick:()=>{O(!1),U(null)},className:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",children:e.jsx("i",{className:"ri-close-line text-xl text-gray-600"})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-600 rounded-xl p-6 text-white mb-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center gap-2 mb-3",children:e.jsx("span",{className:`${o(c.task.category)} bg-white/20 text-white text-xs font-medium px-3 py-1 rounded-full`,children:D(c.task.category)})}),e.jsx("h4",{className:"text-2xl font-bold mb-2",children:c.task.title}),c.task.description&&e.jsx("p",{className:"text-sm opacity-90 mb-3",children:c.task.description}),e.jsxs("div",{className:"flex items-center gap-2 text-sm opacity-90",children:[e.jsx("i",{className:"ri-calendar-line"}),e.jsxs("span",{children:[new Date(c.task.start_date).toLocaleDateString("ja-JP")," 〜",new Date(c.task.end_date).toLocaleDateString("ja-JP")]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-4xl font-bold",children:[_(c.task.id,c.userId),"%"]}),e.jsx("p",{className:"text-sm opacity-90",children:"平均進捗率"})]})]})}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-base font-bold text-gray-900 mb-4",children:[e.jsx("i",{className:"ri-file-list-3-line mr-2 text-purple-500"}),"進捗報告一覧"]}),H().length===0?e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx("i",{className:"ri-inbox-line text-5xl mb-3"}),e.jsx("p",{children:"報告データがありません"})]}):e.jsx("div",{className:"space-y-4",children:H().map((s,t)=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-5 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 ${o(c.task.category)} rounded-lg flex items-center justify-center text-white font-bold`,children:t+1}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-900",children:new Date(s.date).toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric",weekday:"long"})}),e.jsxs("p",{className:"text-xs text-gray-500",children:[new Date(s.created_at).toLocaleString("ja-JP")," 記録"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>Ne(s),className:"w-8 h-8 flex items-center justify-center rounded-lg bg-blue-500 text-white hover:bg-blue-600 transition-colors cursor-pointer",title:"編集",children:e.jsx("i",{className:"ri-edit-line text-sm"})}),e.jsx("button",{onClick:()=>fe(s.id),className:"w-8 h-8 flex items-center justify-center rounded-lg bg-red-500 text-white hover:bg-red-600 transition-colors cursor-pointer",title:"削除",children:e.jsx("i",{className:"ri-delete-bin-line text-sm"})}),e.jsx("div",{className:"text-right ml-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[s.progress_rate===100&&e.jsx("span",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx("i",{className:"ri-check-line text-white"})}),e.jsxs("span",{className:`text-2xl font-bold ${s.progress_rate===100?"text-green-500":s.progress_rate>=50?"text-blue-500":"text-orange-500"}`,children:[s.progress_rate,"%"]})]})})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"進捗率"})}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:`${o(c.task.category)} h-3 rounded-full transition-all`,style:{width:`${s.progress_rate}%`}})})]}),s.notes&&e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("i",{className:"ri-file-text-line text-gray-400 mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:"作業メモ"}),e.jsx("p",{className:"text-sm text-gray-900 whitespace-pre-wrap",children:s.notes})]})]})})]},s.id))})]})]})]})}),ae&&x&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[60] p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"進捗報告編集"}),e.jsx("button",{onClick:()=>{q(!1),v(null)},className:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",children:e.jsx("i",{className:"ri-close-line text-xl text-gray-600"})})]})}),e.jsxs("form",{onSubmit:be,className:"p-6 space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"記録日"}),e.jsx("p",{className:"font-bold text-gray-900",children:new Date(x.date).toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric",weekday:"long"})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["進捗率 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"range",min:"0",max:"100",step:"5",value:x.progress_rate,onChange:s=>v({...x,progress_rate:parseInt(s.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"0%"}),e.jsxs("span",{className:"text-2xl font-bold text-purple-500",children:[x.progress_rate,"%"]}),e.jsx("span",{className:"text-sm text-gray-600",children:"100%"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"作業メモ"}),e.jsx("textarea",{value:x.notes||"",onChange:s=>v({...x,notes:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:4,placeholder:"作業内容や気づいたことを記入してください"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{q(!1),v(null)},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium whitespace-nowrap cursor-pointer",children:"キャンセル"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors font-medium whitespace-nowrap cursor-pointer",children:"保存"})]})]})]})})]})}export{ke as default};
//# sourceMappingURL=page-CSPhiYge.js.map
