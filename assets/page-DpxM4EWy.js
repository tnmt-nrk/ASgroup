import{u as g,a as u,r as t,s as p,j as e}from"./index-CQCmJ27i.js";function v(){const a=g(),{user:j,profile:i,loading:N,signOut:l}=u(),[n,r]=t.useState([]),[c,o]=t.useState(!0),[f,b]=t.useState({todayAttendance:null,activeTasks:0,completedTasks:0,announcements:0});t.useEffect(()=>{d()},[]);const d=async()=>{const{data:s}=await p.from("announcements").select("*").order("created_at",{ascending:!1}).limit(5);s&&r(s),o(!1)},x=async()=>{await l(),a("/login")},m=[{title:"勤怠管理",description:"出勤・退勤を記録",icon:"ri-calendar-check-line",color:"bg-blue-500",path:"/user/attendance"},{title:"作業記録",description:"作業内容と進捗を確認",icon:"ri-task-line",color:"bg-purple-500",path:"/user/work"},{title:"連絡掲示板",description:"お知らせを確認",icon:"ri-notification-line",color:"bg-green-500",path:"/user/announcements"},{title:"相談窓口",description:"相談を送信",icon:"ri-question-answer-line",color:"bg-pink-500",path:"/user/consultation"},{title:"マニュアル",description:"資料・動画を閲覧",icon:"ri-book-line",color:"bg-teal-500",path:"/user/manuals"}];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-10",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"アルファサービス"})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[i?.username||"ユーザー","さん"]}),e.jsxs("button",{onClick:x,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium whitespace-nowrap cursor-pointer",children:[e.jsx("i",{className:"ri-logout-box-line mr-2"}),"ログアウト"]})]})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:["ようこそ、",i?.username,"さん"]}),e.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm opacity-90 mb-1",children:"今日の日付"}),e.jsx("p",{className:"text-2xl font-bold",children:new Date().toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric",weekday:"long"})})]}),e.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx("i",{className:"ri-calendar-check-line text-3xl"})})]})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"メニュー"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map((s,h)=>e.jsx("button",{onClick:()=>a(s.path),className:"bg-white rounded-xl p-6 shadow-sm hover:shadow-md transition-all text-left cursor-pointer border border-gray-100",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`${s.color} w-12 h-12 rounded-lg flex items-center justify-center text-white flex-shrink-0`,children:e.jsx("i",{className:`${s.icon} text-2xl`})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-1",children:s.title}),e.jsx("p",{className:"text-sm text-gray-600",children:s.description})]}),e.jsx("i",{className:"ri-arrow-right-s-line text-gray-400 text-xl"})]})},h))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"最新のお知らせ"}),e.jsxs("button",{onClick:()=>a("/user/announcements"),className:"text-sm text-indigo-600 hover:text-indigo-700 font-medium whitespace-nowrap cursor-pointer",children:["すべて見る ",e.jsx("i",{className:"ri-arrow-right-line ml-1"})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:c?e.jsx("div",{className:"p-8 text-center text-gray-500",children:"読み込み中..."}):n.length===0?e.jsx("div",{className:"p-8 text-center text-gray-500",children:"お知らせはありません"}):e.jsx("div",{className:"divide-y divide-gray-100",children:n.map(s=>e.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("i",{className:"ri-notification-line text-purple-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:s.title}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:s.content}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:new Date(s.created_at).toLocaleDateString("ja-JP")})]})]})},s.id))})})]})]})]})}export{v as default};
//# sourceMappingURL=page-DpxM4EWy.js.map
